(this.webpackJsonpwishlist=this.webpackJsonpwishlist||[]).push([[0],{34:function(e,t,n){e.exports=n(58)},50:function(e,t,n){},55:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(28),i=n.n(s),c=n(33),l=n(3),u=n(9),o=n.n(u),d=n(15),m=n(16),h=n(18),p=n(29),f=n(30),v=n(19),g=n.n(v),b={apiKey:"AIzaSyAmnA4lNTDaTJ4_N5JUR3B-mP6h8jU7P7Q",authDomain:"wishlist-9bddd.firebaseapp.com",databaseURL:"https://wishlist-9bddd.firebaseio.com",projectId:"wishlist-9bddd",storageBucket:"wishlist-9bddd.appspot.com",messagingSenderId:"929548929948",appId:"1:929548929948:web:67fccbbd075ae701fc5659"},y=new(function(){function e(){Object(p.a)(this,e),g.a.initializeApp(b),this.auth=g.a.auth(),this.db=g.a.database(),this.ref=this.db.ref("lists")}return Object(f.a)(e,[{key:"signIn",value:function(e,t){return this.auth.signInWithEmailAndPassword(e,t)}},{key:"signOut",value:function(){return this.auth.signOut()}},{key:"registerUser",value:function(){var e=Object(d.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.createUserWithEmailAndPassword(t,n);case 2:return e.abrupt("return",this.auth.currentUser.updateProfile({displayName:t.split("@")[0]}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getCurrentUsername",value:function(){return this.auth.currentUser&&this.auth.currentUser.displayName}},{key:"updateStatus",value:function(e,t,n){return console.log(e),this.db.ref("lists/"+e+"/"+t).update({status:n})}},{key:"updateBoughtBy",value:function(e,t){return this.db.ref("lists/"+e+"/"+t).update({boughtBy:this.auth.currentUser.displayName})}},{key:"removeBoughtBy",value:function(e,t){return this.db.ref("lists/"+e+"/"+t+"/boughtBy").remove().then((function(){console.log("Removed successfully!")})).catch((function(e){console.log("Remove failed: "+e.message)}))}},{key:"addItem",value:function(e,t){return this.db.ref("lists/"+e).update(Object(h.a)({},t,{status:"notdone"}))}},{key:"removeItem",value:function(e,t){return console.log(t),this.db.ref("lists/"+e+"/"+t).remove().then((function(){console.log("Successfully removed ".concat(t,"!"))})).catch((function(e){console.log("Could not remove ".concat(t,": ").concat(e.message))}))}}]),e}()),E=(n(50),function(e){var t=Object(a.useState)(""),n=Object(m.a)(t,2),s=n[0],i=n[1],c=Object(a.useState)(""),l=Object(m.a)(c,2),u=l[0],h=l[1],p=function(){var t=Object(d.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.signIn(s,u);case 3:e.history.push("/dashboard"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=Object(d.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y.registerUser(s,u);case 3:e.history.push("/dashboard"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"containerDiv"},r.a.createElement("div",{className:"loginDiv"},r.a.createElement("div",{className:"loginHeader"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{onChange:function(e){return i(e.target.value)}}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",onChange:function(e){return h(e.target.value)}})),r.a.createElement("button",{type:"submit",onClick:function(){return p()}},"Sign in"),r.a.createElement("button",{style:{display:"none"},onClick:function(){return f()}},"Register")))}),k=n(31),w=n(10),O=n(11),N=function(){return r.a.createElement("div",{className:"bottomBar"},r.a.createElement("div",{id:"addDiv",onClick:function(){return function(){var e=document.getElementById("itemInput");""!==e.value&&y.addItem(y.auth.currentUser.displayName,e.value);var t=document.getElementById("addItemGiftIcon");t.classList.toggle("down"),setTimeout((function(){t.classList.toggle("down")}),1e3),e.value=""}()}},r.a.createElement(w.a,{id:"addItemGiftIcon",className:"addItemIcon",color:"#014a13",size:"5x",icon:O.c}),r.a.createElement("h3",{id:"addItemtext",style:{color:"#FFFFFF",marginTop:"0px"}},"L\xe4gg till")),r.a.createElement("input",{id:"itemInput"}))},j=function(e){var t=e.listObject;return void 0!==t&&null!==t?r.a.createElement("div",{className:"myListContainer",style:{alignContent:"center",marginTop:"20px"}},r.a.createElement("div",{className:"listBody"},r.a.createElement("ul",null,Object.keys(t).map((function(e,t){return r.a.createElement("li",{key:e+"_"+t},r.a.createElement(w.a,{key:e+"_Gifticon_"+t,style:{marginRight:"20px"},size:"lg",icon:O.a,color:"#E40010"}),e,r.a.createElement(w.a,{className:"removeIcon",onClick:function(e){return function(e){var t=e.previousSibling.nodeValue;y.removeItem(y.auth.currentUser.displayName,t)}(e.currentTarget)},key:e+"_Removeicon_"+t,size:"1x",icon:O.d,color:"#E40010",style:{float:"right",padding:"1px"}}))})))),r.a.createElement(N,null)):r.a.createElement("div",{className:"myListContainer",style:{alignContent:"center",marginTop:"20px"}},r.a.createElement("h1",{style:{textAlign:"center"}},"Du har inte \xf6nskat dig n\xe5got \xe4nnu :)"),r.a.createElement(N,null))},I=function(e){var t=e.listObject,n=function(e,t,n){n.classList.value.includes("done")?(y.updateStatus(e,t,"notdone"),n.classList.remove("done")):(y.updateStatus(e,t,"done"),n.classList.add("done")),console.log(n.children[2]),function(e,t,n){e.innerHTML.includes("K\xf6pt av")?(e.innerHTML="",y.removeBoughtBy(t,n)):(e.innerHTML="K\xf6pt av: "+y.auth.currentUser.displayName,y.updateBoughtBy(t,n))}(n.children[2],e,t)};return r.a.createElement("div",null,Object.keys(t).map((function(e){if(e!==y.auth.currentUser.displayName)return r.a.createElement("div",{className:"listItem"},r.a.createElement("div",{className:"listHeader"},r.a.createElement("span",null,e),r.a.createElement(w.a,{onClick:function(e){return function(e){e.classList.value.includes("clickedArrow")?e.classList.remove("clickedArrow"):e.classList.add("clickedArrow");var t=e.parentElement.nextElementSibling;t.classList.value.includes("hidden")?t.classList.remove("hidden"):t.classList.add("hidden")}(e.currentTarget)},style:{float:"right"},icon:O.b,size:"1x",color:"#FFFFFF",className:"faIcon"})),r.a.createElement("div",{className:"listBody hidden"},r.a.createElement("ul",{style:{marginTop:10,listStyleType:"none"}},Object.keys(t[e]).map((function(a,s){return console.log(t[e][a].status),r.a.createElement("li",{className:"done"===t[e][a].status?"done":null,onClick:function(t){return n(e,a,t.currentTarget)},key:e+a+s},r.a.createElement(w.a,{style:{marginRight:"20px"},size:"lg",icon:O.c,color:"#E40010"}),a,r.a.createElement("br",null),r.a.createElement("span",{style:{},key:e+a+"_boughtBy"},void 0!==t[e][a].boughtBy?"K\xf6pt av: "+t[e][a].boughtBy:null))})))))})))},L=(n(55),function(e){var t=Object(a.useState)("myListTab"),n=Object(m.a)(t,2),s=n[0],i=n[1],c=Object(a.useState)(null),l=Object(m.a)(c,2),u=l[0],h=l[1],p=Object(a.useState)(null),f=Object(m.a)(p,2),v=f[0],g=f[1],b=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.ref.on("value",(function(e){var t=e.val()?e.val():{},n=Object(k.a)({},t);g(n),h(n[y.auth.currentUser.displayName])}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){b()}),[]),y.getCurrentUsername()||(alert("Please login first!"),e.history.push("/")),null!==v&&void 0!==v?r.a.createElement("div",null,r.a.createElement("div",{className:"dashboardNav"},r.a.createElement("button",{id:"myListTab",onClick:function(e){return i(e.target.id)},className:"myListTab"===s?"activeTab":null},"Min lista"),r.a.createElement("button",{id:"othersListTab",onClick:function(e){return i(e.target.id)},className:"othersListTab"===s?"activeTab":null},"Andras listor"),r.a.createElement("button",{style:{width:"20vw",margin:0,fontSize:"0.5rem",position:"absolute",right:"5%"},id:"signOut",onClick:function(){return y.signOut(),void e.history.push("/")}},"Logga ut")),r.a.createElement("div",{className:"listViewer"},"myListTab"===s?r.a.createElement(j,{listObject:u}):r.a.createElement(I,{listObject:v}))):r.a.createElement("div",null,r.a.createElement("h1",null,"Loading..."))});var x=function(){return r.a.createElement(c.a,{basename:"".concat("/wishlistapp","/")},r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:E}),r.a.createElement(l.a,{exact:!0,path:"/dashboard",component:L})))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.021e4d47.chunk.js.map